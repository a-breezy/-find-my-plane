{"ast":null,"code":"export function searchFlight(iata, flight) {\n  let apiKey = process.env.REACT_APP_FLIGHT_API_KEY; // dynamic query\n  // let flightNumber = flight;\n  // let airlineIata = iata;\n\n  console.log(iata, flight); // hardcoded query\n\n  let flightNumber = 3628;\n  let airlineIata = \"af\";\n  let apiUrl = \"https://app.goflightlabs.com/flights?access_key=\" + apiKey + \"&flight_number=\" + flightNumber + \"&airline_iata=\" + airlineIata;\n  fetch(apiUrl).then(function (response) {\n    // then console log the data\n    response.json().then(function (data) {\n      console.log(data);\n    });\n  });\n}\nexport function searchFlightNumber(flight) {\n  // hardcoded query\n  let flightNumber = 3628; // dynamic query\n  // let flightNumber = flight;\n\n  let apiKey = process.env.REACT_APP_FLIGHT_API_KEY;\n  let apiUrl = \"https://app.goflightlabs.com/flights?access_key=\" + apiKey + \"&flight_number=\" + flightNumber; // fetch api with hardcoded query\n\n  fetch(apiUrl).then(function (response) {\n    // then console log the data\n    response.json().then(function (data) {\n      console.log(data);\n    });\n  });\n} // check that flight number is correct\n\nexport function validateSixChar(flightNumber) {\n  var regex = /((^[a-z]{2})(\\d{4}$))/i;\n  return regex.test(String(flightNumber));\n}\nexport function validateFourChar(flightNumber) {\n  var regex = /(\\d{4})/;\n  return regex.test(String(flightNumber));\n} // check that input is valid and send fetch data\n\nexport function checkValue(flightNumber) {\n  let iata = \"\",\n      flight = \"\";\n\n  if (flightNumber.length === 4 && validateFourChar(flightNumber)) {\n    // take away clg \n    console.log(searchFlightNumber(flightNumber));\n    setErrorMessage(\"\");\n    return flight = flightNumber;\n  } else if (flightNumber.length === 6 && validateSixChar(flightNumber)) {\n    iata = flightNumber.slice(0, 2);\n    flight = flightNumber.slice(2, 6); // take away clg\n\n    console.log(searchFlight(iata, flight));\n    setErrorMessage(\"\");\n    return [iata, flight];\n  } else if (!flightNumber.length || !validateFourChar(flightNumber) || !validateSixChar(flightNumber)) {\n    // console.log(\"set error message\");\n    setErrorMessage(\"Flight number must be four numbers or two letters followed by four numbers.\");\n  }\n}","map":{"version":3,"names":["searchFlight","iata","flight","apiKey","process","env","REACT_APP_FLIGHT_API_KEY","console","log","flightNumber","airlineIata","apiUrl","fetch","then","response","json","data","searchFlightNumber","validateSixChar","regex","test","String","validateFourChar","checkValue","length","setErrorMessage","slice"],"sources":["/Users/a.breezy/development/react-projects/find-my-plane/client/src/utils/js/searchFlightFunctions.js"],"sourcesContent":["export function searchFlight(iata, flight) {\n\tlet apiKey = process.env.REACT_APP_FLIGHT_API_KEY;\n\t// dynamic query\n\t// let flightNumber = flight;\n\t// let airlineIata = iata;\n\t\n\tconsole.log(iata, flight);\n\n\t// hardcoded query\n\tlet flightNumber = 3628;\n\tlet airlineIata = \"af\";\n\t\n\tlet apiUrl =\n\t\t\"https://app.goflightlabs.com/flights?access_key=\" +\n\t\tapiKey +\n\t\t\"&flight_number=\" +\n\t\tflightNumber +\n\t\t\"&airline_iata=\" +\n\t\tairlineIata;\n\n\tfetch(apiUrl).then(function (response) {\n\t\t// then console log the data\n\t\tresponse.json().then(function (data) {\n\t\t\tconsole.log(data);\n\t\t});\n\t});\n}\n\nexport function searchFlightNumber(flight) {\n\t// hardcoded query\n\tlet flightNumber = 3628;\n\t// dynamic query\n\t// let flightNumber = flight;\n\tlet apiKey = process.env.REACT_APP_FLIGHT_API_KEY;\n\tlet apiUrl =\n\t\t\"https://app.goflightlabs.com/flights?access_key=\" +\n\t\tapiKey +\n\t\t\"&flight_number=\" +\n\t\tflightNumber;\n\n\t// fetch api with hardcoded query\n\tfetch(apiUrl).then(function (response) {\n\t\t// then console log the data\n\t\tresponse.json().then(function (data) {\n\t\t\tconsole.log(data);\n\t\t});\n\t});\n}\n\n// check that flight number is correct\nexport function validateSixChar(flightNumber) {\n\tvar regex = /((^[a-z]{2})(\\d{4}$))/i;\n\treturn regex.test(String(flightNumber));\n}\n\nexport function validateFourChar(flightNumber) {\n\tvar regex = /(\\d{4})/;\n\treturn regex.test(String(flightNumber));\n}\n\n// check that input is valid and send fetch data\nexport function checkValue (flightNumber) {\n\tlet iata = \"\",\n\t\tflight = \"\";\n\n\tif (flightNumber.length === 4 && validateFourChar(flightNumber)) {\n\t\t// take away clg \n\t\tconsole.log(searchFlightNumber(flightNumber));\n\n\t\tsetErrorMessage(\"\");\n\t\treturn (flight = flightNumber);\n\n\t} else if (flightNumber.length === 6 && validateSixChar(flightNumber)) {\n\t\tiata = flightNumber.slice(0, 2);\n\t\tflight = flightNumber.slice(2, 6);\n\n\t\t// take away clg\n\t\tconsole.log(searchFlight(iata, flight));\n\n\t\tsetErrorMessage(\"\");\n\t\treturn [iata, flight];\n\n\t} else if (\n\t\t!flightNumber.length ||\n\t\t!validateFourChar(flightNumber) ||\n\t\t!validateSixChar(flightNumber)\n\t) {\n\t\t// console.log(\"set error message\");\n\t\tsetErrorMessage(\n\t\t\t\"Flight number must be four numbers or two letters followed by four numbers.\"\n\t\t);\n\t}\n}"],"mappings":"AAAA,OAAO,SAASA,YAAT,CAAsBC,IAAtB,EAA4BC,MAA5B,EAAoC;EAC1C,IAAIC,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,wBAAzB,CAD0C,CAE1C;EACA;EACA;;EAEAC,OAAO,CAACC,GAAR,CAAYP,IAAZ,EAAkBC,MAAlB,EAN0C,CAQ1C;;EACA,IAAIO,YAAY,GAAG,IAAnB;EACA,IAAIC,WAAW,GAAG,IAAlB;EAEA,IAAIC,MAAM,GACT,qDACAR,MADA,GAEA,iBAFA,GAGAM,YAHA,GAIA,gBAJA,GAKAC,WAND;EAQAE,KAAK,CAACD,MAAD,CAAL,CAAcE,IAAd,CAAmB,UAAUC,QAAV,EAAoB;IACtC;IACAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,UAAUG,IAAV,EAAgB;MACpCT,OAAO,CAACC,GAAR,CAAYQ,IAAZ;IACA,CAFD;EAGA,CALD;AAMA;AAED,OAAO,SAASC,kBAAT,CAA4Bf,MAA5B,EAAoC;EAC1C;EACA,IAAIO,YAAY,GAAG,IAAnB,CAF0C,CAG1C;EACA;;EACA,IAAIN,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,wBAAzB;EACA,IAAIK,MAAM,GACT,qDACAR,MADA,GAEA,iBAFA,GAGAM,YAJD,CAN0C,CAY1C;;EACAG,KAAK,CAACD,MAAD,CAAL,CAAcE,IAAd,CAAmB,UAAUC,QAAV,EAAoB;IACtC;IACAA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,UAAUG,IAAV,EAAgB;MACpCT,OAAO,CAACC,GAAR,CAAYQ,IAAZ;IACA,CAFD;EAGA,CALD;AAMA,C,CAED;;AACA,OAAO,SAASE,eAAT,CAAyBT,YAAzB,EAAuC;EAC7C,IAAIU,KAAK,GAAG,wBAAZ;EACA,OAAOA,KAAK,CAACC,IAAN,CAAWC,MAAM,CAACZ,YAAD,CAAjB,CAAP;AACA;AAED,OAAO,SAASa,gBAAT,CAA0Bb,YAA1B,EAAwC;EAC9C,IAAIU,KAAK,GAAG,SAAZ;EACA,OAAOA,KAAK,CAACC,IAAN,CAAWC,MAAM,CAACZ,YAAD,CAAjB,CAAP;AACA,C,CAED;;AACA,OAAO,SAASc,UAAT,CAAqBd,YAArB,EAAmC;EACzC,IAAIR,IAAI,GAAG,EAAX;EAAA,IACCC,MAAM,GAAG,EADV;;EAGA,IAAIO,YAAY,CAACe,MAAb,KAAwB,CAAxB,IAA6BF,gBAAgB,CAACb,YAAD,CAAjD,EAAiE;IAChE;IACAF,OAAO,CAACC,GAAR,CAAYS,kBAAkB,CAACR,YAAD,CAA9B;IAEAgB,eAAe,CAAC,EAAD,CAAf;IACA,OAAQvB,MAAM,GAAGO,YAAjB;EAEA,CAPD,MAOO,IAAIA,YAAY,CAACe,MAAb,KAAwB,CAAxB,IAA6BN,eAAe,CAACT,YAAD,CAAhD,EAAgE;IACtER,IAAI,GAAGQ,YAAY,CAACiB,KAAb,CAAmB,CAAnB,EAAsB,CAAtB,CAAP;IACAxB,MAAM,GAAGO,YAAY,CAACiB,KAAb,CAAmB,CAAnB,EAAsB,CAAtB,CAAT,CAFsE,CAItE;;IACAnB,OAAO,CAACC,GAAR,CAAYR,YAAY,CAACC,IAAD,EAAOC,MAAP,CAAxB;IAEAuB,eAAe,CAAC,EAAD,CAAf;IACA,OAAO,CAACxB,IAAD,EAAOC,MAAP,CAAP;EAEA,CAVM,MAUA,IACN,CAACO,YAAY,CAACe,MAAd,IACA,CAACF,gBAAgB,CAACb,YAAD,CADjB,IAEA,CAACS,eAAe,CAACT,YAAD,CAHV,EAIL;IACD;IACAgB,eAAe,CACd,6EADc,CAAf;EAGA;AACD"},"metadata":{},"sourceType":"module"}